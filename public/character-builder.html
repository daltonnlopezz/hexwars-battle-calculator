<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEX Wars - Character Builder</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Logo -->
    <div class="logo-container">
        <img src="static/images/logo.jpg" alt="HEX Wars Logo" class="logo-image" />
    </div>

    <h1>HEX WARS - CHARACTER BUILDER</h1>
    
    <!-- Navigation Card -->
    <div class="nav-card">
        <a href="index.html" class="nav-btn battle-btn">
            <span class="btn-icon">‚öîÔ∏è</span>
            <span class="btn-text">Battle Calculator</span>
        </a>
        <a href="factions.html" class="nav-btn factions-btn">
            <span class="btn-icon">üìã</span>
            <span class="btn-text">Faction Details</span>
        </a>
        <a href="login.html" class="nav-btn login-btn">
            <span class="btn-icon">üë§</span>
            <span class="btn-text">Character Creation</span>
        </a>
        <a href="character.html" class="nav-btn character-btn">
            <span class="btn-icon">‚öîÔ∏è</span>
            <span class="btn-text">My Characters</span>
        </a>
    </div>

    <div class="calculator-container">
        <div class="army-card">
            <div class="card-header character-header">
                <span class="header-icon">‚ú®</span>
                <h2>Create Your Hero</h2>
            </div>
            <div class="card-content">
                <div class="character-creation-container">
                    <div class="character-creation-header">
                        <h3>‚öîÔ∏è Build Your Character</h3>
                        <p>Choose your race, role, and faction to begin your adventure</p>
                    </div>
                    
                    <div class="error-message" id="errorMessage"></div>
                    <div class="success-message" id="successMessage"></div>
                    
                    <form class="character-creation-form" id="characterForm">
                        <div class="form-section">
                            <h4>Basic Information</h4>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="characterName">Character Name</label>
                                    <input type="text" id="characterName" name="characterName" placeholder="Enter character name" required>
                                </div>
                                <div class="form-group">
                                    <label for="gender">Gender</label>
                                    <select id="gender" name="gender" required>
                                        <option value="">Select Gender</option>
                                        <option value="Male">Male</option>
                                        <option value="Female">Female</option>
                                        <option value="Non-binary">Non-binary</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h4>Race Selection</h4>
                            <div class="race-grid">
                                <div class="race-option" data-race="Human">
                                    <h5>Human</h5>
                                    <p>Health: 100 | Attack: 10 | Defense: 10 | Magic: 10</p>
                                    <p>Balanced stats, versatile in all areas</p>
                                </div>
                                <div class="race-option" data-race="Astramentis">
                                    <h5>Astramentis</h5>
                                    <p>Health: 90 | Attack: 10 | Defense: 10 | Magic: 15</p>
                                    <p>Mystical beings with enhanced magical abilities</p>
                                </div>
                                <div class="race-option" data-race="Terrador">
                                    <h5>Terrador</h5>
                                    <p>Health: 120 | Attack: 12 | Defense: 12 | Magic: 8</p>
                                    <p>Sturdy earth-dwellers with high health and combat stats</p>
                                </div>
                                <div class="race-option" data-race="Saang'vor">
                                    <h5>Saang'vor</h5>
                                    <p>Health: 130 | Attack: 15 | Defense: 15 | Magic: 9</p>
                                    <p>Elite warriors with superior combat abilities</p>
                                </div>
                                <div class="race-option" data-race="Damned">
                                    <h5>Damned</h5>
                                    <p>Health: 50 | Attack: 8 | Defense: 8 | Magic: 20</p>
                                    <p>Dark beings with immense magical power but fragile bodies</p>
                                </div>
                            </div>
                            <input type="hidden" id="selectedRace" name="race" required>
                        </div>

                        <div class="form-section">
                            <h4>Role Selection</h4>
                            <div class="role-grid">
                                <div class="role-option" data-role="Fighter">
                                    <h5>Fighter</h5>
                                    <p>Melee combat specialist with high attack and defense</p>
                                </div>
                                <div class="role-option" data-role="Wizard">
                                    <h5>Wizard</h5>
                                    <p>Magic user with powerful spells and magical abilities</p>
                                </div>
                                <div class="role-option" data-role="Archer">
                                    <h5>Archer</h5>
                                    <p>Ranged combat expert with high accuracy and stealth</p>
                                </div>
                                <div class="role-option" data-role="Druid">
                                    <h5>Druid</h5>
                                    <p>Nature magic user with healing and summoning abilities</p>
                                </div>
                                <div class="role-option" data-role="Rogue">
                                    <h5>Rogue</h5>
                                    <p>Stealth specialist with high agility and critical hits</p>
                                </div>
                                <div class="role-option" data-role="Paladin">
                                    <h5>Paladin</h5>
                                    <p>Holy warrior with balanced combat and healing abilities</p>
                                </div>
                            </div>
                            <input type="hidden" id="selectedRole" name="role" required>
                        </div>

                        <div class="form-section">
                            <h4>Faction Selection</h4>
                            <div class="faction-grid">
                                <div class="faction-option" data-faction="Fighters Guild">
                                    <h5>Fighters Guild</h5>
                                    <p>Neutral faction for non-magic users</p>
                                </div>
                                <div class="faction-option" data-faction="College">
                                    <h5>College</h5>
                                    <p>Magic users faction, light-aligned</p>
                                </div>
                                <div class="faction-option" data-faction="Warriors of the Light">
                                    <h5>Warriors of the Light</h5>
                                    <p>Dedicated to the light, all classes welcome</p>
                                </div>
                                <div class="faction-option" data-faction="Soldiers of Chaos">
                                    <h5>Soldiers of Chaos</h5>
                                    <p>Dedicated to corruption and chaos</p>
                                </div>
                            </div>
                            <input type="hidden" id="selectedFaction" name="faction" required>
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="nav-btn character-btn">
                                <span class="btn-icon">‚ú®</span>
                                <span class="btn-text">Create Character</span>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Character Creation System
        const RACES = {
            'Human': { health: 100, attack: 10, defense: 10, magic: 10, resistance: 10, stealth: 10, armor: 10 },
            'Astramentis': { health: 90, attack: 10, defense: 10, magic: 15, resistance: 10, stealth: 10, armor: 10 },
            'Terrador': { health: 120, attack: 12, defense: 12, magic: 8, resistance: 10, stealth: 10, armor: 10 },
            'Saang\'vor': { health: 130, attack: 15, defense: 15, magic: 9, resistance: 10, stealth: 10, armor: 10 },
            'Damned': { health: 50, attack: 8, defense: 8, magic: 20, resistance: 10, stealth: 10, armor: 10 }
        };

        const ROLES = {
            'Fighter': { health_bonus: 20, attack_bonus: 5, defense_bonus: 5, magic_bonus: 0, resistance_bonus: 2, stealth_bonus: 0, armor_bonus: 3 },
            'Wizard': { health_bonus: 10, attack_bonus: 0, defense_bonus: 0, magic_bonus: 10, resistance_bonus: 5, stealth_bonus: 2, armor_bonus: 0 },
            'Archer': { health_bonus: 15, attack_bonus: 8, defense_bonus: 2, magic_bonus: 2, resistance_bonus: 1, stealth_bonus: 8, armor_bonus: 1 },
            'Druid': { health_bonus: 15, attack_bonus: 2, defense_bonus: 3, magic_bonus: 8, resistance_bonus: 8, stealth_bonus: 5, armor_bonus: 1 },
            'Rogue': { health_bonus: 10, attack_bonus: 6, defense_bonus: 1, magic_bonus: 1, resistance_bonus: 1, stealth_bonus: 10, armor_bonus: 0 },
            'Paladin': { health_bonus: 25, attack_bonus: 4, defense_bonus: 6, magic_bonus: 4, resistance_bonus: 6, stealth_bonus: 1, armor_bonus: 4 }
        };

        // Race selection
        document.querySelectorAll('.race-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.race-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                document.getElementById('selectedRace').value = this.dataset.race;
            });
        });

        // Role selection
        document.querySelectorAll('.role-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.role-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                document.getElementById('selectedRole').value = this.dataset.role;
            });
        });

        // Faction selection
        document.querySelectorAll('.faction-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.faction-option').forEach(opt => opt.classList.remove('selected'));
                this.classList.add('selected');
                document.getElementById('selectedFaction').value = this.dataset.faction;
            });
        });

        document.getElementById('characterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const characterName = document.getElementById('characterName').value;
            const gender = document.getElementById('gender').value;
            const race = document.getElementById('selectedRace').value;
            const role = document.getElementById('selectedRole').value;
            const faction = document.getElementById('selectedFaction').value;
            
            if (!characterName || !gender || !race || !role || !faction) {
                showMessage('Please fill in all fields and make all selections!', 'error');
                return;
            }
            
            // Get current user
            const currentUser = JSON.parse(localStorage.getItem('currentUser') || '{}');
            if (!currentUser.id) {
                showMessage('Please log in first!', 'error');
                return;
            }
            
            // Calculate stats
            const raceStats = RACES[race];
            const roleStats = ROLES[role];
            
            const character = {
                id: Date.now(),
                userId: currentUser.id,
                name: characterName,
                gender: gender,
                race: race,
                role: role,
                faction: faction,
                max_health: raceStats.health + roleStats.health_bonus,
                current_health: raceStats.health + roleStats.health_bonus,
                attack: raceStats.attack + roleStats.attack_bonus,
                defense: raceStats.defense + roleStats.defense_bonus,
                magic: raceStats.magic + roleStats.magic_bonus,
                resistance: raceStats.resistance + roleStats.resistance_bonus,
                stealth: raceStats.stealth + roleStats.stealth_bonus,
                armor: raceStats.armor + roleStats.armor_bonus,
                level: 1,
                experience: 0,
                gold: 0,
                created: new Date().toLocaleDateString()
            };
            
            // Save character
            let characters = JSON.parse(localStorage.getItem('hexWarsCharacters') || '[]');
            characters.push(character);
            localStorage.setItem('hexWarsCharacters', JSON.stringify(characters));
            
            showMessage(`Character "${characterName}" created successfully!`, 'success');
            
            // Reset form
            document.getElementById('characterForm').reset();
            document.querySelectorAll('.race-option, .role-option, .faction-option').forEach(opt => opt.classList.remove('selected'));
            
            // Redirect to character selection after a delay
            setTimeout(() => {
                window.location.href = 'character-selection.html';
            }, 2000);
        });
        
        function showMessage(message, type) {
            const errorDiv = document.getElementById('errorMessage');
            const successDiv = document.getElementById('successMessage');
            
            if (type === 'error') {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
                successDiv.style.display = 'none';
            } else {
                successDiv.textContent = message;
                successDiv.style.display = 'block';
                errorDiv.style.display = 'none';
            }
            
            setTimeout(() => {
                errorDiv.style.display = 'none';
                successDiv.style.display = 'none';
            }, 5000);
        }
    </script>

    <style>
        .character-creation-container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        .character-creation-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .character-creation-header h3 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .character-creation-header p {
            color: #ccc;
            font-size: 1.1em;
        }
        
        .character-creation-form {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .form-section {
            background: rgba(0, 0, 0, 0.2);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #333;
        }
        
        .form-section h4 {
            color: #ffd700;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.3em;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
        }
        
        .form-group label {
            color: #ffd700;
            font-weight: bold;
            margin-bottom: 8px;
        }
        
        .form-group input,
        .form-group select {
            padding: 12px;
            border: 2px solid #444;
            border-radius: 8px;
            background: #1a1a1a;
            color: white;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        
        .race-grid,
        .role-grid,
        .faction-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .race-option,
        .role-option,
        .faction-option {
            background: linear-gradient(135deg, #2a2a2a 0%, #3a3a3a 100%);
            border: 2px solid #444;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .race-option:hover,
        .role-option:hover,
        .faction-option:hover {
            border-color: #ffd700;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .race-option.selected,
        .role-option.selected,
        .faction-option.selected {
            border-color: #ffd700;
            background: linear-gradient(135deg, #3a3a3a 0%, #4a4a4a 100%);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }
        
        .race-option h5,
        .role-option h5,
        .faction-option h5 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 1.2em;
        }
        
        .race-option p,
        .role-option p,
        .faction-option p {
            color: #ccc;
            margin: 5px 0;
            font-size: 0.9em;
        }
        
        .form-actions {
            text-align: center;
            margin-top: 20px;
        }
        
        .error-message,
        .success-message {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        .error-message {
            background: rgba(255, 0, 0, 0.2);
            color: #ff6b6b;
            border: 1px solid #ff6b6b;
        }
        
        .success-message {
            background: rgba(0, 255, 0, 0.2);
            color: #90EE90;
            border: 1px solid #90EE90;
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .race-grid,
            .role-grid,
            .faction-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>
